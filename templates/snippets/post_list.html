{% load custom_tags %}

<ul class="{% if embed %}embedded {% endif %}blog-posts">
    {% for post in posts %}
    <li>
        <span>
            <i>
                {% include '../snippets/formatted_date.html' with date=post.published_date %}
            </i>
        </span>
        <a href="/{{ post.slug }}/">{{ post.title }}</a>
        {% if show_description %}
        <p>{{ post.meta_description }}</p>
        {% endif %}

        {% if show_image and post.meta_image %}
        <img loading="lazy" src="{{ post.meta_image }}" alt="{{ post.title }}">
        {% endif %}

        {% if show_content %}
        <div>{% markdown content=post.content blog=blog post=post tz=tz %}</div>
        {% endif %}
    </li>
    {% empty %}
    <li>
        No posts yet
    </li>
    {% endfor %}
</ul>